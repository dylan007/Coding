<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>In probability theory and statistics, variance is the expectation of the squared deviation of a random variable from its mean.
As a special case, we can compute the variance of a nonempty finite set X = { x_1, ..., x_n } as follows:
<ol>
<li>Let mu = (x_1 + ... + x_n) / n be the mean of the set.</li>
<li>Let y_i = (x_i - mu)^2 be the square of the difference between x_i and the mean.</li>
<li>The variance of X, denoted var(X), can now be computed as the average of all y_i. (In other words, as the sum of all y_i, divided by n.)</li>
</ol>

For example, if X = { 0, 1 }, we have mu = 1/2, then y_1 = y_2 = 1/4, and finally var(X) = (1/4 + 1/4) / 2 = 1/4.
<br></br>
<br></br>
The range of a nonempty finite set is the difference between its maximum and its minimum. For example, the range of the set { 40, 51, 67, 70 } is 70 - 40 = 30.
<br></br>
<br></br>
You are given a vector &lt;int&gt; <b>s</b> that contains a set of distinct positive integers.
You are also given an int <b>R</b>.
<br></br>
<br></br>
Consider all nonempty subsets of <b>s</b> with range less than or equal to <b>R</b>.
Alice computed the variance of each of those subsets.
Bob took all Alice's results and computed their average.
Compute and return the number computed by Bob.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>AverageVarianceSubset</td></tr><tr><td>Method:</td><td>average</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double average(vector &lt;int&gt; s, int R)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The returned value must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>s</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Elements in <b>s</b> will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>s</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>R</b> will be between 0 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3}</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.1</pre></td></tr><tr><td><table><tr><td colspan="2">This set has seven nonempty subsets.
Out of those, five have range at most 1: {1}, {2}, {3}, {1,2}, and {2,3}.
<br></br>
Alice computed the variance of each of these subsets:
<ul>
<li>The variance of {1} is 0.</li>
<li>The variance of {2} is 0.</li>
<li>The variance of {3} is 0.</li>
<li>The variance of {1,2} is 1/4.</li>
<li>The variance of {2,3} is 1/4.</li>
</ul>

Bob took Alice's results and computed their average:
(0 + 0 + 0 + 1/4 + 1/4) / 5 = 1/10.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3}</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.3095238095238096</pre></td></tr><tr><td><table><tr><td colspan="2">This time Alice will consider all seven nonempty subsets.
The two new subsets:
<ul>
<li>The variance of {1,3} is 1.</li>
<li>The variance of {1,2,3} is 2/3.</li>
</ul>

Bob will then compute the value (0+0+0+1/4+1/4+1+2/3)/7 = 13/42.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{5,1,3,2}</pre></td></tr><tr><td><pre>1000000000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.2476851851851847</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,11,111,1111,11111,111111,1111111,11111111,111111111}</pre></td></tr><tr><td><pre>123456</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.1349430459217174E9</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,11,111,1111,11111,111111,1111111,11111111,111111111}</pre></td></tr><tr><td><pre>999999999</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9.989198236452121E14</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,1000000000}</pre></td></tr><tr><td><pre>1000000000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8.3333333166666672E16</pre></td></tr><tr><td><table><tr><td colspan="2">Note that the answer can be very large.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,1000000000}</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>